<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="../bower_components/app-layout/app-drawer/app-drawer.html"><link rel="import" href="../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html"><link rel="import" href="../bower_components/app-layout/app-header/app-header.html"><link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html"><link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html"><link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html"><link rel="import" href="../bower_components/app-route/app-location.html"><link rel="import" href="../bower_components/app-route/app-route.html"><link rel="import" href="../bower_components/iron-pages/iron-pages.html"><link rel="import" href="../bower_components/iron-selector/iron-selector.html"><link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html"><link rel="import" href="../bower_components/paper-fab/paper-fab.html"><link rel="import" href="../bower_components/paper-button/paper-button.html"><link rel="import" href="../bower_components/iron-icons/iron-icons.html"><link rel="import" href="../bower_components/paper-ripple/paper-ripple.html"><link rel="import" href="pk-create-note.html"></head><body><dom-module id="my-app"><template><style>:host{}.content{height:200vh;background-color:var(--paper-grey-200, #eee);}app-header{position:fixed;top:0;left:0;width:100%;height:212px;color:#fff;background-color:var(--primary-color);--app-header-background-front-layer:{background-image:url(https://app-layout-assets.appspot.com/assets/bg1.jpg);background-position:left center;};}paper-icon-button{--paper-icon-button-ink-color:white;}app-toolbar.tall{height:148px;}sample-content{padding-top:212px;}[main-title]{font-weight:lighter;margin-left:108px;}[condensed-title]{font-weight:lighter;margin-left:30px;overflow:hidden;text-overflow:ellipsis;}[condensed-title] i{font-weight:100;font-style:normal;}@media (max-width: 639px){[main-title]{margin-left:50px;font-size:30px;}[condensed-title]{font-size:15px;}}.drawer-list{margin:0 20px;}.drawer-list a{display:block;padding:0 16px;text-decoration:none;color:var(--app-secondary-color);line-height:60px;}.drawer-list a:focus{outline:none;}.drawer-list a.iron-selected{color:black;font-weight:bold;background-color:rgba(0,0,0,0.2);}.toastButton{color:var(--accent-color);}</style><paper-toast id="deleteToast">Note Deleted<paper-button class="toastButton" on-tap="_undoDelete">Undo</paper-button></paper-toast><paper-toast id="archiveToast" on-ready="_archiveToast">Note Archived<paper-button class="toastButton" on-tap="_undoArchive">Undo</paper-button></paper-toast><app-location route="{{route}}"></app-location><app-route route="{{route}}" pattern="/:page" data="{{routeData}}" tail="{{subroute}}"></app-route><app-drawer-layout id="drawerLayout" fullbleed=""><app-drawer id="drawer" slot="drawer" swipe-open=""><app-toolbar>Menu</app-toolbar><iron-selector selected="[[page]]" attr-for-selected="name" class="drawer-list" role="navigation"><a name="note-list" href="/note-list"><iron-icon icon="save"></iron-icon>Saved Notes</a> <a name="archive-note-list" href="/archive-note-list"><iron-icon icon="archive"></iron-icon>Archived Notes</a><hr><a>Add to Homescreen</a></iron-selector></app-drawer><app-header-layout><app-header condenses="" fixed="" slot="header" effects="waterfall resize-title blend-background parallax-background"><app-toolbar><paper-icon-button icon="menu" on-click="drawer_toggle"></paper-icon-button><div condensed-title="">Polynote</div></app-toolbar><app-toolbar class="tall"><h1 main-title="">Polynote</h1></app-toolbar></app-header><iron-pages selected="[[page]]" attr-for-selected="name" fallback-selection="view404" role="main"><my-view404 name="view404"></my-view404><note-list name="note-list"></note-list><archive-note-list name="archive-note-list"></archive-note-list></iron-pages></app-header-layout></app-drawer-layout><pk-create-note></pk-create-note></template><script>class MyApp extends Polymer.Element{static get is(){return'my-app'}static get properties(){return{page:{type:String,reflectToAttribute:!0,observer:'_pageChanged'},swState:{type:String,value:''}}}static get observers(){return['_routePageChanged(routeData.page)']}ready(){super.ready(),this.addEventListener('deletingNote',this._deletingToast),this.addEventListener('archiveNote',this._archiveToast),this.addEventListener('deletingArchive',this._deletingArchiveToast),window.addEventListener('WebComponentsReady',()=>{console.log('evrython up')})}attached(){super.attached()}connectedCallback(){super.connectedCallback(),console.log('connected?'),console.log(this.swState)}serviceWorkerEvent(a){console.log('sw callout'),this.shadowRoot.querySelector('#deleteToast').open(),this.swState=a,this.shadowRoot.querySelector('#deleteToast').open()}_deletingToast(){const a=this.$.deleteToast;a.open();const b=setTimeout(()=>{a.close(),this.shadowRoot.querySelector('note-list').deleteNote()},3e3);this.$.deleteToast.undohandler=()=>{clearTimeout(b),this.shadowRoot.querySelector('note-list').undoNote()}}_deletingArchiveToast(){const a=this.$.deleteToast;a.open();const b=setTimeout(()=>{a.close(),this.shadowRoot.querySelector('archive-note-list').deleteNote()},3e3);this.$.deleteToast.undohandler=()=>{clearTimeout(b),this.shadowRoot.querySelector('archive-note-list').undoNote()}}_archiveToast(){const a=this.$.archiveToast;a.open();const b=setTimeout(()=>{a.close(),this.shadowRoot.querySelector('note-list').archiveNote()},3e3);this.$.archiveToast.undohandler=()=>{clearTimeout(b),this.shadowRoot.querySelector('note-list').undoNote()}}_undoDelete(){const a=this.$.deleteToast;a.undohandler(),a.close()}_undoArchive(){const a=this.$.archiveToast;a.undohandler(),a.close()}drawer_toggle(){var a=this.$.drawer;a.toggle()}_routePageChanged(a){void 0===a||(this.page=a||'note-list',!this.$.drawer.persistent&&this.$.drawer.close())}_pageChanged(a){var b=this.resolveUrl(a+'.html');Polymer.importHref(b,null,this._showPage404.bind(this),!0)}_showPage404(){this.page='view404'}}window.customElements.define(MyApp.is,MyApp);</script></dom-module></body></html>