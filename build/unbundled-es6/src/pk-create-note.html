<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="../bower_components/iron-icons/iron-icons.html"><link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html"><link rel="import" href="../bower_components/paper-fab/paper-fab.html"><link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html"><link rel="import" href="../bower_components/paper-card/paper-card.html"><link rel="import" href="../bower_components/paper-input/paper-input.html"><link rel="import" href="../bower_components/paper-input/paper-textarea.html"><link rel="import" href="../bower_components/paper-button/paper-button.html"><link rel="import" href="pk-editable-note.html"></head><body><dom-module id="pk-create-note"><template><style include="iron-flex iron-flex-alignment">paper-fab{will-change:transform;transform:scale(1);position:fixed;right:16px;bottom:28px;}#dummyFab{will-change:transform;transform:scale(1);position:fixed;right:16px;bottom:28px;height:56px;width:56px;border-radius:50%;background-color:var(--accent-color);}paper-icon-button{color:white;}[hidden]{display:none;}.back-btn{position:fixed;top:16px;left:16px;}</style><paper-fab on-tap="_expandFab" id="fab" icon="add"></paper-fab><paper-icon-button on-tap="_closeFab" class="back-btn" icon="arrow-back" hidden$="[[hideBackBtn]]"></paper-icon-button><pk-editable-note></pk-editable-note></template><script>class CreateNote extends Polymer.Element{static get is(){return"pk-create-note"}toggleEditableNote(){var a=this.shadowRoot.querySelector("pk-editable-note");this.isOpen?a.showNote():a.hideNote()}static get properties(){return{hideBackBtn:{type:Boolean,value:!0},isOpen:{type:Boolean,value:!1},fabSpeed:{type:Number,value:600<window.innerWidth?200:390}}}ready(){super.ready(),this.addEventListener("goBack",this._closeFab)}_expandFab(){var b=this.$.fab,c=document.createElement("div");c.setAttribute("id","dummyFab"),b.insertAdjacentElement("afterend",c);var d=3*window.innerWidth,f=3*window.innerHeight,g=Math.sqrt(Math.pow(window.innerWidth,2)+Math.pow(window.innerHeight,2)),i=c.animate([{transform:"scale(1)"},{transform:"scale("+g/28+")"}],{duration:this.fabSpeed,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",fill:"forwards"});i.onfinish=()=>{this.hideBackBtn=!1,this.isOpen=!0,this._toggleScroll(),this.toggleEditableNote()}}_closeFab(){this.hideBackBtn=!0;var b=this.shadowRoot.querySelector("#dummyFab"),c=3*window.innerWidth,d=3*window.innerHeight,f=Math.sqrt(Math.pow(window.innerWidth,2)+Math.pow(window.innerHeight,2)),h=b.animate([{transform:"scale("+f/28+")"},{transform:"scale(1)"}],{duration:this.fabSpeed,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",fill:"forwards"});this.isOpen=!1,this.toggleEditableNote(),h.onfinish=()=>{this._toggleScroll(),b.parentNode.removeChild(b)}}_toggleScroll(){document.querySelector("body").style.overflow=this.isOpen?"hidden":"auto"}}window.customElements.define(CreateNote.is,CreateNote);</script></dom-module></body></html>